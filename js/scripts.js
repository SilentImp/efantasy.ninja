"use strict";function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function n(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}();!function(){var n=function(){function n(){_classCallCheck(this,n);var e=new Promise(function(n,e){return"loading"!=document.readyState?n():void document.addEventListener("DOMContentLoaded",function(){return n()})});e.then(this.init.bind(this))}return _createClass(n,[{key:"init",value:function(){var n=document.querySelector(".account__input_date");null!=n&&(this.dirthday=new Pikaday({field:document.querySelector(".account__input_date"),format:"YYYY-MM-DD"}))}}]),n}();new n}();
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e);var t=new Promise(function(e,t){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});t.then(this.init.bind(this))}return _createClass(e,[{key:"init",value:function(){var e=this;if(this.widget=document.querySelector(".edit"),null!=this.widget){var t=this.widget.querySelectorAll(".button_add"),a=this.widget.querySelectorAll(".button_remove");this.players=this.widget.querySelector(".edit__available-players"),this.team=this.widget.querySelector(".edit__players"),this.form=this.widget.querySelector("form.edit__teamer"),this.popup=this.widget.querySelector(".edit__popup"),this.popup_close=this.popup.querySelector(".edit__popup-close"),[].forEach.call(t,function(t){t.addEventListener("click",e.addPlayer.bind(e))}),[].forEach.call(a,function(t){t.addEventListener("click",e.removePlayer.bind(e))}),this.popup_close.addEventListener("click",this.closePopup.bind(this)),this.form.addEventListener("submit",this.checkTeam.bind(this))}}},{key:"closePopup",value:function(e){this.popup.style.display="none"}},{key:"checkTeam",value:function(e){var t=e.currentTarget.querySelectorAll(".teamer");return t.length<8?(this.popup.style.display="block",void e.preventDefault()):void 0}},{key:"removePlayer",value:function(e){var t=e.currentTarget.closest(".teamer"),a=parseInt(t.getAttribute("data-id"),10),r=document.createElement("li");r.classList.add("edit__player"),t.parentNode.parentNode.removeChild(t.parentNode),this.players.querySelector('[data-id="'+a+'"]').classList.remove("edit__available_added"),this.team.appendChild(r)}},{key:"addPlayer",value:function(e){var t=e.currentTarget.closest("tr");if(!t.classList.contains("edit__available_added")){var a=this.team.querySelectorAll(".teamer"),r=void 0;if(0==a.length)r=this.team.querySelector(".edit__player");else if(r=a[a.length-1].parentNode.nextElementSibling,null==r)return;var i=t.querySelector(".edit__available-name").textContent,n=t.querySelector(".edit__available-players-salary").textContent,l=t.querySelector(".edit__available-avatar").getAttribute("src"),d=t.getAttribute("data-id"),s=this.createPlayer(d,l,i,n);r.appendChild(s),t.classList.add("edit__available_added")}}},{key:"createPlayer",value:function(e,t,a,r){var i=document.createElement("DIV"),n=document.createElement("P"),l=document.createElement("P"),d=document.createElement("BUTTON"),s=document.createElement("INPUT"),c=document.createElement("IMG");return i.setAttribute("data-id",e),i.classList.add("teamer"),n.classList.add("teamer__name"),n.appendChild(document.createTextNode(a)),l.classList.add("teamer__salary"),l.appendChild(document.createTextNode(r)),c.classList.add("teamer__avatar"),c.setAttribute("alt","Avatar"),c.setAttribute("src",t),s.setAttribute("type","hidden"),s.setAttribute("name","team[]"),s.setAttribute("value",e),d.classList.add("button"),d.classList.add("button_remove"),d.classList.add("teamer__remove"),d.setAttribute("type","button"),d.appendChild(document.createTextNode("-")),d.addEventListener("click",this.removePlayer.bind(this)),i.appendChild(c),i.appendChild(n),i.appendChild(l),i.appendChild(d),i.appendChild(s),i}}]),e}();new e}();
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}();!function(){var t=function(){function t(){_classCallCheck(this,t);var e=new Promise(function(t,e){return"loading"!=document.readyState?t():void document.addEventListener("DOMContentLoaded",function(){return t()})});e.then(this.init.bind(this))}return _createClass(t,[{key:"init",value:function(){var t=this;if(this.filter=document.querySelector(".filter"),null!=this.filter){this.container=document.querySelector("[data-container="+this.filter.getAttribute("data-target")+"]");var e=this.filter.querySelectorAll("input[data-filter]");[].forEach.call(e,function(e){e.addEventListener("change",t.filterFields.bind(t))})}}},{key:"filterFields",value:function(t){var e=t.currentTarget,n=e.getAttribute("data-filter");"all"==n?[].forEach.call(this.container.querySelectorAll("[data-tag]"),function(t){t.classList.toggle("hidden",!1)}):[].forEach.call(this.container.querySelectorAll("[data-tag]"),function(t){t.getAttribute("data-tag").toLowerCase()==n.toLowerCase()?t.classList.toggle("hidden",!1):t.classList.toggle("hidden",!0)})}}]),t}();new t}();
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();!function(){var t=function(){function t(){_classCallCheck(this,t);var e=new Promise(function(t,e){return"loading"!=document.readyState?t():void document.addEventListener("DOMContentLoaded",function(){return t()})});e.then(this.init.bind(this))}return _createClass(t,[{key:"init",value:function(){var t=this,e=document.querySelector(".landing"),i=e.querySelector(".landing__header"),n=i.querySelector(".landing__wrapper");null!=e&&document.documentElement.classList.contains("video")&&document.documentElement.classList.contains("videoautoplay")&&!function(){var o=e.getAttribute("data-video").split(","),a=parseInt(e.getAttribute("data-video-width"),10),r=parseInt(e.getAttribute("data-video-height"),10),d=void 0,s=void 0,u=o.length,c=void 0,l=document.createElement("video");for(d=i.offsetWidth+20,s=d*r/a,s<i.offsetHeight&&(s=i.offsetHeight+20,d=a*s/r),l.style.height=s+"px",l.style.width=d+"px",l.setAttribute("autoplay",!0),l.setAttribute("autobuffer",!0),l.setAttribute("preload",!0),l.setAttribute("mute",!0),l.setAttribute("loop",!0),l.classList.add("movie"),l.addEventListener("canplaythrough",function(){l.style.opacity=1}),l.addEventListener("playing",function(){l.style.opacity=1});u--;)c=document.createElement("source"),c.setAttribute("src",o[u]),l.appendChild(c);n.appendChild(l),t.video=l,window.addEventListener("resize",t.resized.bind(t))}()}},{key:"resized",value:function(){var t=document.querySelector(".landing"),e=t.querySelector(".landing__header"),i=void 0,n=void 0,o=parseInt(t.getAttribute("data-video-width"),10),a=parseInt(t.getAttribute("data-video-height"),10);i=e.offsetWidth+20,n=i*a/o,n<e.offsetHeight&&(n=e.offsetHeight+20,i=o*n/a),this.video.style.height=n+"px",this.video.style.width=i+"px"}}]),t}();setTimeout(function(){new t},500)}();
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e);var t=new Promise(function(e,t){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});t.then(this.init.bind(this))}return _createClass(e,[{key:"init",value:function(){var e=this;if(this.popup_login=document.querySelector(".landing-popup_login"),this.popup_register=document.querySelector(".landing-popup_register"),this.lightbox=document.querySelector(".landing-popup__lightbox"),null!=this.popup_login&&null!=this.popup_register&&null!=this.lightbox){var t=document.querySelectorAll(".landing__register, .landing-popup__open-register"),o=document.querySelectorAll(".landing__login, .landing-popup__open-login"),n=document.querySelectorAll(".landing-popup__close, .landing-popup__lightbox");this.open=!1,document.body.classList.toggle("popup_open",this.open),[].forEach.call(t,function(t){t.addEventListener("click",e.openRegistration.bind(e))}),[].forEach.call(o,function(t){t.addEventListener("click",e.openLogin.bind(e))}),[].forEach.call(n,function(t){t.addEventListener("click",e.closeAll.bind(e))})}}},{key:"openLogin",value:function(){this.open?(Velocity(this.popup_register,"fadeOut"),this.popup_register.reset()):Velocity(this.lightbox,"fadeIn"),Velocity(this.popup_login,"fadeIn"),this.open=!0,document.body.classList.toggle("popup_open",this.open)}},{key:"openRegistration",value:function(){this.open?(Velocity(this.popup_login,"fadeOut"),this.popup_login.reset()):Velocity(this.lightbox,"fadeIn"),Velocity(this.popup_register,"fadeIn"),this.open=!0,document.body.classList.toggle("popup_open",this.open)}},{key:"closeAll",value:function(){Velocity(this.lightbox,"stop"),Velocity(this.popup_login,"stop"),Velocity(this.popup_register,"stop"),Velocity(this.lightbox,"fadeOut"),Velocity(this.popup_login,"fadeOut"),Velocity(this.popup_register,"fadeOut"),this.popup_register.reset(),this.popup_login.reset(),this.open=!1,document.body.classList.toggle("popup_open",this.open)}}]),e}();new e}();
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e);var t=new Promise(function(e,t){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});t.then(this.init.bind(this))}return _createClass(e,[{key:"init",value:function(){if(this.menu=document.querySelector(".navigation"),null!=this.menu){this.open=!1,this.wrapper=this.menu.querySelector(".navigation__wrapper");var e=this.menu.querySelector(".navigation__toggle");e.addEventListener("click",this.toggleMenu.bind(this)),window.addEventListener("resize",this.resized.bind(this))}}},{key:"resized",value:function(){Modernizr.mq("(min-width: 1000px)")&&this.open&&(this.open=!1,this.wrapper.removeAttribute("style"),this.menu.classList.toggle("navigation_open",!1))}},{key:"toggleMenu",value:function(){this.open=!this.open,Velocity(this.wrapper,"stop"),this.menu.classList.toggle("navigation_open"),this.open?Velocity(this.wrapper,{translateY:this.wrapper.offsetHeight+this.menu.offsetHeight},{duration:250}):Velocity(this.wrapper,{translateY:0},{duration:250})}}]),e}();new e}();
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}();!function(){var t=function(){function t(){_classCallCheck(this,t);var e=new Promise(function(t,e){return"loading"!=document.readyState?t():void document.addEventListener("DOMContentLoaded",function(){return t()})});e.then(this.init.bind(this))}return _createClass(t,[{key:"init",value:function(){var t=this;if(this.popup=document.querySelector(".popup"),null!=this.popup){this.lightbox=document.querySelector(".popup__lightbox");var e=document.querySelector(".popup__close"),o=document.querySelectorAll(".popup__button"),n=document.querySelectorAll('[data-action="open popup"]');this.current_button=document.querySelector(".popup__button_current"),this.current_tab=document.querySelector(".popup__tab_current"),e.addEventListener("click",this.closePopup.bind(this)),this.lightbox.addEventListener("click",this.closePopup.bind(this)),[].forEach.call(o,function(e){e.addEventListener("click",t.openTab.bind(t))}),[].forEach.call(n,function(e){e.addEventListener("click",t.openPopup.bind(t))})}}},{key:"openTab",value:function(t){var e=t.currentTarget,o=e.getAttribute("data-target"),n=document.querySelector('[data-tab="'+o+'"]');this.current_button.classList.remove("popup__button_current"),this.current_tab.classList.remove("popup__tab_current"),e.classList.add("popup__button_current"),n.classList.add("popup__tab_current"),this.current_button=e,this.current_tab=n}},{key:"closePopup",value:function(){document.body.classList.toggle("popup-opened",!1),Velocity(this.lightbox,"stop"),Velocity(this.lightbox,"fadeOut",{duration:250}),Velocity(this.popup,"stop"),Velocity(this.popup,"fadeOut",{duration:250})}},{key:"openPopup",value:function(){document.body.classList.toggle("popup-opened",!0),Velocity(this.lightbox,"stop"),Velocity(this.lightbox,"fadeIn",{duration:250}),Velocity(this.popup,"stop"),Velocity(this.popup,"fadeIn",{duration:250})}}]),t}();window.popup=new t}();
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();!function(){var e=function(){function e(){_classCallCheck(this,e);var n=new Promise(function(e,n){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});n.then(this.init.bind(this))}return _createClass(e,[{key:"init",value:function(){var e=this,n=document.querySelectorAll(".questions__item");[].forEach.call(n,function(n){n.addEventListener("click",e.toggleQuestion.bind(e))})}},{key:"toggleQuestion",value:function(e){e.currentTarget.classList.toggle("questions__item_open")}}]),e}();new e}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnQvYWNjb3VudC5qcyIsImVkaXQvZWRpdC5qcyIsImZpbHRlci9maWx0ZXIuanMiLCJsYW5kaW5nL2xhbmRpbmcuanMiLCJsYW5kaW5nLXBvcHVwL2xhbmRpbmctcG9wdXAuanMiLCJuYXZpZ2F0aW9uL25hdmlnYXRpb24uanMiLCJwb3B1cC9wb3B1cC5qcyIsInF1ZXN0aW9ucy9xdWVzdGlvbnMuanMiXSwibmFtZXMiOlsiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJwcm90b3R5cGUiLCJBY2NvdW50IiwidGhpcyIsInJlYWR5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJkb2N1bWVudCIsInJlYWR5U3RhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwidGhlbiIsImluaXQiLCJiaW5kIiwidmFsdWUiLCJkYXRlIiwicXVlcnlTZWxlY3RvciIsImRpcnRoZGF5IiwiUGlrYWRheSIsImZpZWxkIiwiZm9ybWF0IiwiRWRpdCIsIl90aGlzIiwid2lkZ2V0IiwiYWRkX2J1dHRvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwicmVtb3ZlX2J1dHRvbnMiLCJwbGF5ZXJzIiwidGVhbSIsImZvcm0iLCJwb3B1cCIsInBvcHVwX2Nsb3NlIiwiZm9yRWFjaCIsImNhbGwiLCJidXR0b24iLCJhZGRQbGF5ZXIiLCJyZW1vdmVQbGF5ZXIiLCJjbG9zZVBvcHVwIiwiY2hlY2tUZWFtIiwiZXZlbnQiLCJzdHlsZSIsImRpc3BsYXkiLCJjdXJyZW50VGFyZ2V0IiwicHJldmVudERlZmF1bHQiLCJwbGF5ZXIiLCJjbG9zZXN0IiwiaWQiLCJwYXJzZUludCIsImdldEF0dHJpYnV0ZSIsImxpIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZSIsImFwcGVuZENoaWxkIiwiY29udGFpbnMiLCJ0ZWFtZXJzIiwiY29udGFpbmVyIiwidW5kZWZpbmVkIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwibmFtZSIsInRleHRDb250ZW50Iiwic2FsYXJ5Iiwic3JjIiwibWVtYmVyIiwiY3JlYXRlUGxheWVyIiwicF9uYW1lIiwicF9zYWxhcnkiLCJpbnB1dCIsImltZyIsInNldEF0dHJpYnV0ZSIsImNyZWF0ZVRleHROb2RlIiwiRmlsdGVyIiwiZmlsdGVyIiwiaW5wdXRzIiwiZmlsdGVyRmllbGRzIiwidGFnIiwidHIiLCJ0b2dnbGUiLCJ0b0xvd2VyQ2FzZSIsIkxhbmRpbmciLCJsYW5kaW5nIiwiaGVhZGVyIiwid3JhcHBlciIsImRvY3VtZW50RWxlbWVudCIsInNwbGl0Iiwid2lkdGgiLCJoZWlnaHQiLCJuZXdfd2lkdGgiLCJuZXdfaGVpZ2h0IiwiaW5kZXgiLCJzb3VyY2UiLCJ2aWRlbyIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0Iiwib3BhY2l0eSIsIndpbmRvdyIsInJlc2l6ZWQiLCJzZXRUaW1lb3V0IiwiTGFuZGluZ1BvcHVwIiwicG9wdXBfbG9naW4iLCJwb3B1cF9yZWdpc3RlciIsImxpZ2h0Ym94IiwicmVnaXN0ZXJfYnV0dG9ucyIsImxvZ2luX2J1dHRvbnMiLCJjbG9zZV9idXR0b25zIiwib3BlbiIsImJvZHkiLCJvcGVuUmVnaXN0cmF0aW9uIiwib3BlbkxvZ2luIiwiY2xvc2VBbGwiLCJWZWxvY2l0eSIsInJlc2V0IiwiTmF2aWdhdGlvbiIsIm1lbnUiLCJ0b2dnbGVNZW51IiwiTW9kZXJuaXpyIiwibXEiLCJyZW1vdmVBdHRyaWJ1dGUiLCJ0cmFuc2xhdGVZIiwiZHVyYXRpb24iLCJQb3B1cCIsImNsb3NlIiwibGlua3MiLCJvcGVuX2xpbmtzIiwiY3VycmVudF9idXR0b24iLCJjdXJyZW50X3RhYiIsImxpbmsiLCJvcGVuVGFiIiwib3BlblBvcHVwIiwidGFiIiwiUXVlc3Rpb25zIiwicXVlc3Rpb25zIiwicXVlc3Rpb24iLCJ0b2dnbGVRdWVzdGlvbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFJQSxTQUFTQSxpQkFBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FGaEgsR0FBSUMsY0FBZSxXQUFlLFFBQVNDLEdBQWlCQyxFQUFRQyxHQUFTLElBQUssR0FBSUMsR0FBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsR0FBSUUsR0FBYUgsRUFBTUMsRUFBSUUsR0FBV0MsV0FBYUQsRUFBV0MsYUFBYyxFQUFPRCxFQUFXRSxjQUFlLEVBQVUsU0FBV0YsS0FBWUEsRUFBV0csVUFBVyxHQUFNQyxPQUFPQyxlQUFlVCxFQUFRSSxFQUFXTSxJQUFLTixJQUFpQixNQUFPLFVBQVVSLEVBQWFlLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZWixFQUFpQkgsRUFBWWlCLFVBQVdGLEdBQWlCQyxHQUFhYixFQUFpQkgsRUFBYWdCLEdBQXFCaEIsT0FBamlCLFdBS0ksR0FKTWtCLEdBQU8sV0FLRSxRQUxUQSxLQVdFcEIsZ0JBQWdCcUIsS0FYbEJELEVBTUUsSUFBSUUsR0FBUSxHQUFJQyxTQUFRLFNBQUNDLEVBQVNDLEdBQzlCLE1BQTJCLFdBQXZCQyxTQUFTQyxXQUFnQ0gsUUFDN0NFLFVBQVNFLGlCQUFpQixtQkFBb0IsV0FRMUMsTUFSZ0RKLFFBRXhERixHQUFNTyxLQUFLUixLQUFLUyxLQUFLQyxLQUFLVixPQTZCOUIsTUFiQWpCLGNBMUJFZ0IsSUEyQkVKLElBQUssT0FDTGdCLE1BWkEsV0FDQSxHQUFJQyxHQUFPUCxTQUFTUSxjQUFjLHVCQUN0QixPQUFSRCxJQUNBWixLQUFLYyxTQUFXLEdBQUlDLFVBQ2hCQyxNQUFPWCxTQUFTUSxjQUFjLHdCQUM1QkksT0FB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LCJmaWxlIjoic2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgY2xhc3MgQWNjb3VudCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU3RhcnQgaW5pdGlhbGl6YXRpb24gb24gZG9tbG9hZFxuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgbGV0IHJlYWR5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9IFwibG9hZGluZ1wiKSByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlYWR5LnRoZW4odGhpcy5pbml0LmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBBZGRpbmcgZXZlbnRzIGFuZCBwcm9wZXJ0aWVzXG4gICAgICAgICAqL1xuICAgICAgICBpbml0KCkge1xuICAgICAgICAgICAgbGV0IGRhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWNjb3VudF9faW5wdXRfZGF0ZScpO1xuICAgICAgICAgICAgaWYgKGRhdGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydGhkYXkgPSBuZXcgUGlrYWRheSh7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWNjb3VudF9faW5wdXRfZGF0ZScpXG4gICAgICAgICAgICAgICAgICAgICwgZm9ybWF0OiAnWVlZWS1NTS1ERCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBuZXcgQWNjb3VudDtcbn0pKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uKCkge1xuICAgIGNsYXNzIEVkaXQge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFN0YXJ0IGluaXRpYWxpemF0aW9uIG9uIGRvbWxvYWRcbiAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIGxldCByZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPSBcImxvYWRpbmdcIikgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZWFkeS50aGVuKHRoaXMuaW5pdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkaW5nIGV2ZW50cyBhbmQgcHJvcGVydGllc1xuICAgICAgICAgKi9cbiAgICAgICAgaW5pdCgpIHtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVkaXQnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZGdldCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGFkZF9idXR0b25zID0gdGhpcy53aWRnZXQucXVlcnlTZWxlY3RvckFsbCgnLmJ1dHRvbl9hZGQnKVxuICAgICAgICAgICAgICAgICwgcmVtb3ZlX2J1dHRvbnMgPSB0aGlzLndpZGdldC5xdWVyeVNlbGVjdG9yQWxsKCcuYnV0dG9uX3JlbW92ZScpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzID0gdGhpcy53aWRnZXQucXVlcnlTZWxlY3RvcignLmVkaXRfX2F2YWlsYWJsZS1wbGF5ZXJzJyk7XG4gICAgICAgICAgICB0aGlzLnRlYW0gPSB0aGlzLndpZGdldC5xdWVyeVNlbGVjdG9yKCcuZWRpdF9fcGxheWVycycpO1xuICAgICAgICAgICAgdGhpcy5mb3JtID0gdGhpcy53aWRnZXQucXVlcnlTZWxlY3RvcignZm9ybS5lZGl0X190ZWFtZXInKTtcbiAgICAgICAgICAgIHRoaXMucG9wdXAgPSB0aGlzLndpZGdldC5xdWVyeVNlbGVjdG9yKCcuZWRpdF9fcG9wdXAnKTtcbiAgICAgICAgICAgIHRoaXMucG9wdXBfY2xvc2UgPSB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5lZGl0X19wb3B1cC1jbG9zZScpO1xuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGFkZF9idXR0b25zLCAoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5hZGRQbGF5ZXIuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChyZW1vdmVfYnV0dG9ucywgKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucmVtb3ZlUGxheWVyLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnBvcHVwX2Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZVBvcHVwLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuY2hlY2tUZWFtLmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xvc2VQb3B1cCAoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucG9wdXAuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hlY2tUZWFtIChldmVudCkge1xuXG4gICAgICAgICAgICBsZXQgcGxheWVycyA9IGV2ZW50LmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvckFsbCgnLnRlYW1lcicpO1xuICAgICAgICAgICAgaWYgKHBsYXllcnMubGVuZ3RoIDwgOCkge1xuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlbW92ZVBsYXllciAoZXZlbnQpIHtcbiAgICAgICAgICAgIGxldCBwbGF5ZXIgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy50ZWFtZXInKVxuICAgICAgICAgICAgICAgICwgaWQgPSBwYXJzZUludChwbGF5ZXIuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyksIDEwKVxuICAgICAgICAgICAgICAgICwgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgICAgbGkuY2xhc3NMaXN0LmFkZCgnZWRpdF9fcGxheWVyJyk7XG4gICAgICAgICAgICBwbGF5ZXIucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHBsYXllci5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pZD1cIicgKyBpZCArICdcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdlZGl0X19hdmFpbGFibGVfYWRkZWQnKTtcbiAgICAgICAgICAgIHRoaXMudGVhbS5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIH1cblxuICAgICAgICBhZGRQbGF5ZXIgKGV2ZW50KSB7XG4gICAgICAgICAgICBsZXQgcGxheWVyID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCd0cicpO1xuICAgICAgICAgICAgaWYgKHBsYXllci5jbGFzc0xpc3QuY29udGFpbnMoJ2VkaXRfX2F2YWlsYWJsZV9hZGRlZCcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHRlYW1lcnMgPSB0aGlzLnRlYW0ucXVlcnlTZWxlY3RvckFsbCgnLnRlYW1lcicpXG4gICAgICAgICAgICAgICAgLCBjb250YWluZXI7XG4gICAgICAgICAgICBpZiAodGVhbWVycy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IHRoaXMudGVhbS5xdWVyeVNlbGVjdG9yKCcuZWRpdF9fcGxheWVyJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IHRlYW1lcnNbdGVhbWVycy5sZW5ndGgtMV0ucGFyZW50Tm9kZS5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbmFtZSA9IHBsYXllci5xdWVyeVNlbGVjdG9yKCcuZWRpdF9fYXZhaWxhYmxlLW5hbWUnKS50ZXh0Q29udGVudFxuICAgICAgICAgICAgICAgICwgc2FsYXJ5ID0gcGxheWVyLnF1ZXJ5U2VsZWN0b3IoJy5lZGl0X19hdmFpbGFibGUtcGxheWVycy1zYWxhcnknKS50ZXh0Q29udGVudFxuICAgICAgICAgICAgICAgICwgc3JjID0gcGxheWVyLnF1ZXJ5U2VsZWN0b3IoJy5lZGl0X19hdmFpbGFibGUtYXZhdGFyJykuZ2V0QXR0cmlidXRlKCdzcmMnKVxuICAgICAgICAgICAgICAgICwgaWQgPSBwbGF5ZXIuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJylcbiAgICAgICAgICAgICAgICAsIG1lbWJlciA9IHRoaXMuY3JlYXRlUGxheWVyKGlkLCBzcmMsIG5hbWUsIHNhbGFyeSk7XG5cbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChtZW1iZXIpO1xuICAgICAgICAgICAgcGxheWVyLmNsYXNzTGlzdC5hZGQoJ2VkaXRfX2F2YWlsYWJsZV9hZGRlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY3JlYXRlUGxheWVyIChpZCwgc3JjLCBuYW1lLCBzYWxhcnkpIHtcbiAgICAgICAgICAgIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKVxuICAgICAgICAgICAgICAgICwgcF9uYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnUCcpXG4gICAgICAgICAgICAgICAgLCBwX3NhbGFyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1AnKVxuICAgICAgICAgICAgICAgICwgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnQlVUVE9OJylcbiAgICAgICAgICAgICAgICAsIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnSU5QVVQnKVxuICAgICAgICAgICAgICAgICwgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnSU1HJyk7XG4gICAgICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLWlkJywgaWQpO1xuICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3RlYW1lcicpO1xuICAgICAgICAgICAgcF9uYW1lLmNsYXNzTGlzdC5hZGQoJ3RlYW1lcl9fbmFtZScpO1xuICAgICAgICAgICAgcF9uYW1lLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5hbWUpKTtcbiAgICAgICAgICAgIHBfc2FsYXJ5LmNsYXNzTGlzdC5hZGQoJ3RlYW1lcl9fc2FsYXJ5Jyk7XG4gICAgICAgICAgICBwX3NhbGFyeS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzYWxhcnkpKTtcbiAgICAgICAgICAgIGltZy5jbGFzc0xpc3QuYWRkKCd0ZWFtZXJfX2F2YXRhcicpO1xuICAgICAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnYWx0JywgJ0F2YXRhcicpXG4gICAgICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBzcmMpXG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnaGlkZGVuJyk7XG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAndGVhbVtdJyk7XG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgaWQpO1xuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbicpO1xuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbl9yZW1vdmUnKTtcbiAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd0ZWFtZXJfX3JlbW92ZScpO1xuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsJ2J1dHRvbicpO1xuICAgICAgICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCctJykpO1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5yZW1vdmVQbGF5ZXIuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChwX25hbWUpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBfc2FsYXJ5KTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmV3IEVkaXQ7XG59KSgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbigpIHtcbiAgICBjbGFzcyBGaWx0ZXIge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFN0YXJ0IGluaXRpYWxpemF0aW9uIG9uIGRvbWxvYWRcbiAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIGxldCByZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPSBcImxvYWRpbmdcIikgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZWFkeS50aGVuKHRoaXMuaW5pdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkaW5nIGV2ZW50cyBhbmQgcHJvcGVydGllc1xuICAgICAgICAgKi9cbiAgICAgICAgaW5pdCgpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpbHRlcicpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlsdGVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1jb250YWluZXI9XCIgKyB0aGlzLmZpbHRlci5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFyZ2V0JykgKyBcIl1cIik7XG4gICAgICAgICAgICBsZXQgaW5wdXRzID0gdGhpcy5maWx0ZXIucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbZGF0YS1maWx0ZXJdJyk7XG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoaW5wdXRzLCAoaW5wdXQpID0+IHtcbiAgICAgICAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmZpbHRlckZpZWxkcy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZmlsdGVyRmllbGRzIChldmVudCkge1xuICAgICAgICAgICAgbGV0IGlucHV0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgICAgICAgICAgICAgICwgdGFnID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWZpbHRlcicpO1xuXG4gICAgICAgICAgICBpZiAodGFnID09ICdhbGwnKSB7XG4gICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRhZ10nKSwgKHRyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRhZ10nKSwgKHRyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRyLmdldEF0dHJpYnV0ZSgnZGF0YS10YWcnKS50b0xvd2VyQ2FzZSgpID09IHRhZy50b0xvd2VyQ2FzZSgpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmV3IEZpbHRlcjtcbn0pKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIFZpZGVvIGNsYXNzXG4gICAgICogQGNsYXNzXG4gICAgICovXG4gICAgY2xhc3MgTGFuZGluZyB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTdGFydCBpbml0aWFsaXphdGlvbiBvbiBkb21sb2FkXG4gICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBsZXQgcmVhZHkgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT0gXCJsb2FkaW5nXCIpIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVhZHkudGhlbih0aGlzLmluaXQuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEFkZGluZyBldmVudHMgYW5kIHByb3BlcnRpZXNcbiAgICAgICAgICovXG4gICAgICAgIGluaXQoKSB7XG4gICAgICAgICAgICBsZXQgbGFuZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYW5kaW5nJylcbiAgICAgICAgICAgICAgICAsIGhlYWRlciA9IGxhbmRpbmcucXVlcnlTZWxlY3RvcignLmxhbmRpbmdfX2hlYWRlcicpXG4gICAgICAgICAgICAgICAgLCB3cmFwcGVyID0gaGVhZGVyLnF1ZXJ5U2VsZWN0b3IoJy5sYW5kaW5nX193cmFwcGVyJyk7XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAobGFuZGluZyAhPSBudWxsKVxuICAgICAgICAgICAgICAgICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3ZpZGVvJylcbiAgICAgICAgICAgICAgICAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCd2aWRlb2F1dG9wbGF5JylcbiAgICAgICAgICAgICl7XG5cbiAgICAgICAgICAgICAgICBsZXQgc3JjID0gbGFuZGluZy5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmlkZW8nKS5zcGxpdCgnLCcpXG4gICAgICAgICAgICAgICAgICAgICwgd2lkdGggPSBwYXJzZUludChsYW5kaW5nLmdldEF0dHJpYnV0ZSgnZGF0YS12aWRlby13aWR0aCcpLCAxMClcbiAgICAgICAgICAgICAgICAgICAgLCBoZWlnaHQgPSBwYXJzZUludChsYW5kaW5nLmdldEF0dHJpYnV0ZSgnZGF0YS12aWRlby1oZWlnaHQnKSwgMTApXG4gICAgICAgICAgICAgICAgICAgICwgbmV3X3dpZHRoXG4gICAgICAgICAgICAgICAgICAgICwgbmV3X2hlaWdodFxuICAgICAgICAgICAgICAgICAgICAsIGluZGV4ID0gc3JjLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAsIHNvdXJjZVxuICAgICAgICAgICAgICAgICAgICAsIHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcblxuICAgICAgICAgICAgICAgIG5ld193aWR0aCA9IGhlYWRlci5vZmZzZXRXaWR0aCArIDIwO1xuICAgICAgICAgICAgICAgIG5ld19oZWlnaHQgPSBuZXdfd2lkdGgqaGVpZ2h0L3dpZHRoO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5ld19oZWlnaHQgPCBoZWFkZXIub2Zmc2V0SGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld19oZWlnaHQgPSBoZWFkZXIub2Zmc2V0SGVpZ2h0ICsgMjA7XG4gICAgICAgICAgICAgICAgICAgIG5ld193aWR0aCA9IHdpZHRoKm5ld19oZWlnaHQvaGVpZ2h0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZpZGVvLnN0eWxlLmhlaWdodCA9IG5ld19oZWlnaHQgKyAncHgnO1xuICAgICAgICAgICAgICAgIHZpZGVvLnN0eWxlLndpZHRoID0gbmV3X3dpZHRoICsgJ3B4JztcblxuICAgICAgICAgICAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZSgnYXV0b3BsYXknLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB2aWRlby5zZXRBdHRyaWJ1dGUoJ2F1dG9idWZmZXInLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB2aWRlby5zZXRBdHRyaWJ1dGUoJ3ByZWxvYWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB2aWRlby5zZXRBdHRyaWJ1dGUoJ211dGUnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB2aWRlby5zZXRBdHRyaWJ1dGUoJ2xvb3AnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB2aWRlby5jbGFzc0xpc3QuYWRkKCdtb3ZpZScpO1xuXG4gICAgICAgICAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCAoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW8uc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdwbGF5aW5nJywgKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZpZGVvLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgICAgICB3aGlsZShpbmRleC0tKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBzcmNbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW8uYXBwZW5kQ2hpbGQoc291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHZpZGVvKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudmlkZW8gPSB2aWRlbztcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemVkLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzaXplZCAoKSB7XG5cbiAgICAgICAgICAgIGxldCBsYW5kaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxhbmRpbmcnKVxuICAgICAgICAgICAgICAgICwgaGVhZGVyID0gbGFuZGluZy5xdWVyeVNlbGVjdG9yKCcubGFuZGluZ19faGVhZGVyJylcbiAgICAgICAgICAgICAgICAsIG5ld193aWR0aFxuICAgICAgICAgICAgICAgICwgbmV3X2hlaWdodFxuICAgICAgICAgICAgICAgICwgd2lkdGggPSBwYXJzZUludChsYW5kaW5nLmdldEF0dHJpYnV0ZSgnZGF0YS12aWRlby13aWR0aCcpLCAxMClcbiAgICAgICAgICAgICAgICAsIGhlaWdodCA9IHBhcnNlSW50KGxhbmRpbmcuZ2V0QXR0cmlidXRlKCdkYXRhLXZpZGVvLWhlaWdodCcpLCAxMCk7XG5cbiAgICAgICAgICAgIG5ld193aWR0aCA9IGhlYWRlci5vZmZzZXRXaWR0aCArIDIwO1xuICAgICAgICAgICAgbmV3X2hlaWdodCA9IG5ld193aWR0aCpoZWlnaHQvd2lkdGg7XG5cbiAgICAgICAgICAgIGlmIChuZXdfaGVpZ2h0IDwgaGVhZGVyLm9mZnNldEhlaWdodCkge1xuICAgICAgICAgICAgICAgIG5ld19oZWlnaHQgPSBoZWFkZXIub2Zmc2V0SGVpZ2h0ICsgMjA7XG4gICAgICAgICAgICAgICAgbmV3X3dpZHRoID0gd2lkdGgqbmV3X2hlaWdodC9oZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudmlkZW8uc3R5bGUuaGVpZ2h0ID0gbmV3X2hlaWdodCArICdweCc7XG4gICAgICAgICAgICB0aGlzLnZpZGVvLnN0eWxlLndpZHRoID0gbmV3X3dpZHRoICsgJ3B4JztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgbmV3IExhbmRpbmcoKTtcbiAgICB9LCA1MDApO1xuXG59KSgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBOYXZpZ2F0aW9uIGNsYXNzXG4gICAgICogQGNsYXNzXG4gICAgICovXG4gICAgY2xhc3MgTGFuZGluZ1BvcHVwIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFN0YXJ0IGluaXRpYWxpemF0aW9uIG9uIGRvbWxvYWRcbiAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIGxldCByZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPSBcImxvYWRpbmdcIikgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZWFkeS50aGVuKHRoaXMuaW5pdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkaW5nIGV2ZW50cyBhbmQgcHJvcGVydGllc1xuICAgICAgICAgKi9cbiAgICAgICAgaW5pdCgpIHtcbiAgICAgICAgICAgIHRoaXMucG9wdXBfbG9naW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGFuZGluZy1wb3B1cF9sb2dpbicpO1xuICAgICAgICAgICAgdGhpcy5wb3B1cF9yZWdpc3RlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYW5kaW5nLXBvcHVwX3JlZ2lzdGVyJyk7XG4gICAgICAgICAgICB0aGlzLmxpZ2h0Ym94ID0gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYW5kaW5nLXBvcHVwX19saWdodGJveCcpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRoaXMucG9wdXBfbG9naW4gPT0gbnVsbFxuICAgICAgICAgICAgICAgIHx8IHRoaXMucG9wdXBfcmVnaXN0ZXIgPT0gbnVsbFxuICAgICAgICAgICAgICAgIHx8IHRoaXMubGlnaHRib3ggPT0gbnVsbFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcmVnaXN0ZXJfYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sYW5kaW5nX19yZWdpc3RlciwgLmxhbmRpbmctcG9wdXBfX29wZW4tcmVnaXN0ZXInKVxuICAgICAgICAgICAgICAgICwgbG9naW5fYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sYW5kaW5nX19sb2dpbiwgLmxhbmRpbmctcG9wdXBfX29wZW4tbG9naW4nKVxuICAgICAgICAgICAgICAgICwgY2xvc2VfYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sYW5kaW5nLXBvcHVwX19jbG9zZSwgLmxhbmRpbmctcG9wdXBfX2xpZ2h0Ym94Jyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ3BvcHVwX29wZW4nLCB0aGlzLm9wZW4pO1xuXG5cbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChyZWdpc3Rlcl9idXR0b25zLCAoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuUmVnaXN0cmF0aW9uLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwobG9naW5fYnV0dG9ucywgKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlbkxvZ2luLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoY2xvc2VfYnV0dG9ucywgKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VBbGwuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gcmVnaXN0cmF0aW9uIHBvcHVwXG4gICAgICAgICAqL1xuICAgICAgICBvcGVuTG9naW4oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcGVuKSB7XG4gICAgICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cF9yZWdpc3RlciwgXCJmYWRlT3V0XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucG9wdXBfcmVnaXN0ZXIucmVzZXQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5saWdodGJveCwgXCJmYWRlSW5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXBfbG9naW4sIFwiZmFkZUluXCIpO1xuICAgICAgICAgICAgdGhpcy5vcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgncG9wdXBfb3BlbicsIHRoaXMub3Blbik7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gbG9naW4gcG9wdXBcbiAgICAgICAgICovXG4gICAgICAgIG9wZW5SZWdpc3RyYXRpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcGVuKSB7XG4gICAgICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cF9sb2dpbiwgXCJmYWRlT3V0XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucG9wdXBfbG9naW4ucmVzZXQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5saWdodGJveCwgXCJmYWRlSW5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXBfcmVnaXN0ZXIsIFwiZmFkZUluXCIpO1xuICAgICAgICAgICAgdGhpcy5vcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgncG9wdXBfb3BlbicsIHRoaXMub3Blbik7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gbG9naW4gcG9wdXBcbiAgICAgICAgICovXG4gICAgICAgIGNsb3NlQWxsKCkge1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5saWdodGJveCwgXCJzdG9wXCIpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cF9sb2dpbiwgXCJzdG9wXCIpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cF9yZWdpc3RlciwgXCJzdG9wXCIpO1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmxpZ2h0Ym94LCBcImZhZGVPdXRcIik7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwX2xvZ2luLCBcImZhZGVPdXRcIik7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwX3JlZ2lzdGVyLCBcImZhZGVPdXRcIik7XG4gICAgICAgICAgICB0aGlzLnBvcHVwX3JlZ2lzdGVyLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLnBvcHVwX2xvZ2luLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgncG9wdXBfb3BlbicsIHRoaXMub3Blbik7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIG5ldyBMYW5kaW5nUG9wdXA7XG59KSgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBOYXZpZ2F0aW9uIGNsYXNzXG4gICAgICogQGNsYXNzXG4gICAgICovXG4gICAgY2xhc3MgTmF2aWdhdGlvbiB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTdGFydCBpbml0aWFsaXphdGlvbiBvbiBkb21sb2FkXG4gICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBsZXQgcmVhZHkgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT0gXCJsb2FkaW5nXCIpIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVhZHkudGhlbih0aGlzLmluaXQuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEFkZGluZyBldmVudHMgYW5kIHByb3BlcnRpZXNcbiAgICAgICAgICovXG4gICAgICAgIGluaXQoKSB7XG4gICAgICAgICAgICB0aGlzLm1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbicpO1xuICAgICAgICAgICAgaWYgKHRoaXMubWVudSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLndyYXBwZXIgPSB0aGlzLm1lbnUucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb25fX3dyYXBwZXInKTtcbiAgICAgICAgICAgIGxldCB0b2dnbGUgPSB0aGlzLm1lbnUucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb25fX3RvZ2dsZScpO1xuICAgICAgICAgICAgdG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50b2dnbGVNZW51LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmVzaXplIHdpbmRvd1xuICAgICAgICAgKi9cbiAgICAgICAgcmVzaXplZCgpIHtcbiAgICAgICAgICAgIGlmICggTW9kZXJuaXpyLm1xKCcobWluLXdpZHRoOiAxMDAwcHgpJykgJiYgdGhpcy5vcGVuICkge1xuICAgICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMud3JhcHBlci5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZW51LmNsYXNzTGlzdC50b2dnbGUoXCJuYXZpZ2F0aW9uX29wZW5cIiwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBPcGVuIHRhYlxuICAgICAgICAgKiBAcGFyYW0gZXZlbnQgRXZlbnQge0V2ZW50fSB0byBnZXQgYnV0dG9uIHVzZXIgaGF2ZSBjbGlja2VkXG4gICAgICAgICAqL1xuICAgICAgICB0b2dnbGVNZW51KCkge1xuICAgICAgICAgICAgdGhpcy5vcGVuID0gIXRoaXMub3BlbjtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMud3JhcHBlciwgXCJzdG9wXCIpO1xuICAgICAgICAgICAgdGhpcy5tZW51LmNsYXNzTGlzdC50b2dnbGUoXCJuYXZpZ2F0aW9uX29wZW5cIik7XG4gICAgICAgICAgICBpZiAodGhpcy5vcGVuKSB7XG4gICAgICAgICAgICAgICAgVmVsb2NpdHkodGhpcy53cmFwcGVyLCB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVk6IHRoaXMud3JhcHBlci5vZmZzZXRIZWlnaHQgKyB0aGlzLm1lbnUub2Zmc2V0SGVpZ2h0XG4gICAgICAgICAgICAgICAgfSwge2R1cmF0aW9uOiAyNTB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgVmVsb2NpdHkodGhpcy53cmFwcGVyLCB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVk6IDBcbiAgICAgICAgICAgICAgICB9LCB7ZHVyYXRpb246IDI1MH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmV3IE5hdmlnYXRpb247XG59KSgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBQb3B1cCBjbGFzc1xuICAgICAqIEBjbGFzc1xuICAgICAqL1xuICAgIGNsYXNzIFBvcHVwIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFN0YXJ0IGluaXRpYWxpemF0aW9uIG9uIGRvbWxvYWRcbiAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIGxldCByZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPSBcImxvYWRpbmdcIikgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZWFkeS50aGVuKHRoaXMuaW5pdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkaW5nIGV2ZW50cyBhbmQgcHJvcGVydGllc1xuICAgICAgICAgKi9cbiAgICAgICAgaW5pdCgpIHtcbiAgICAgICAgICAgIHRoaXMucG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvcHVwID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubGlnaHRib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2xpZ2h0Ym94Jyk7XG5cbiAgICAgICAgICAgIGxldCBjbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UnKVxuICAgICAgICAgICAgICAgICwgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2J1dHRvbicpXG4gICAgICAgICAgICAgICAgLCBvcGVuX2xpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWN0aW9uPVwib3BlbiBwb3B1cFwiXScpXG5cbiAgICAgICAgICAgIHRoaXMuY3VycmVudF9idXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbl9jdXJyZW50Jyk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRfdGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX190YWJfY3VycmVudCcpO1xuXG4gICAgICAgICAgICBjbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VQb3B1cC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMubGlnaHRib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlUG9wdXAuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwobGlua3MsIChsaW5rKSA9PiB7XG4gICAgICAgICAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlblRhYi5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKG9wZW5fbGlua3MsIChsaW5rKSA9PiB7XG4gICAgICAgICAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlblBvcHVwLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gdGFiXG4gICAgICAgICAqIEBwYXJhbSBldmVudCBFdmVudCB7RXZlbnR9IHRvIGdldCBidXR0b24gdXNlciBoYXZlIGNsaWNrZWRcbiAgICAgICAgICovXG4gICAgICAgIG9wZW5UYWIoZXZlbnQpIHtcbiAgICAgICAgICAgIGxldCBidXR0b24gPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgICAgICAgICAgICAgLCB0YXJnZXQgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXRhcmdldCcpXG4gICAgICAgICAgICAgICAgLCB0YWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10YWI9XCInICsgdGFyZ2V0ICsgJ1wiXScpO1xuXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRfYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX19idXR0b25fY3VycmVudCcpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50X3RhYi5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9fdGFiX2N1cnJlbnQnKTtcbiAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdwb3B1cF9fYnV0dG9uX2N1cnJlbnQnKTtcbiAgICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCdwb3B1cF9fdGFiX2N1cnJlbnQnKTtcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50X2J1dHRvbiA9IGJ1dHRvbjtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudF90YWIgPSB0YWI7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIENsb3NlIHBvcHVwIGFuZCBsaWdodGJveFxuICAgICAgICAgKi9cbiAgICAgICAgY2xvc2VQb3B1cCgpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgncG9wdXAtb3BlbmVkJywgZmFsc2UpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5saWdodGJveCwgXCJzdG9wXCIpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5saWdodGJveCwgXCJmYWRlT3V0XCIsIHtkdXJhdGlvbjogMjUwfSk7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCBcInN0b3BcIik7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCBcImZhZGVPdXRcIiwge2R1cmF0aW9uOiAyNTB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ2xvc2UgcG9wdXAgYW5kIGxpZ2h0Ym94XG4gICAgICAgICAqL1xuICAgICAgICBvcGVuUG9wdXAoKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ3BvcHVwLW9wZW5lZCcsIHRydWUpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5saWdodGJveCwgXCJzdG9wXCIpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5saWdodGJveCwgXCJmYWRlSW5cIiwge2R1cmF0aW9uOiAyNTB9KTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIFwic3RvcFwiKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIFwiZmFkZUluXCIsIHtkdXJhdGlvbjogMjUwfSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHdpbmRvdy5wb3B1cCA9IG5ldyBQb3B1cDtcbn0pKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBRdWVzdGlvbnMgY2xhc3NcbiAgICAgKiBAY2xhc3NcbiAgICAgKi9cbiAgICBjbGFzcyBRdWVzdGlvbnMge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU3RhcnQgaW5pdGlhbGl6YXRpb24gb24gZG9tbG9hZFxuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgbGV0IHJlYWR5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9IFwibG9hZGluZ1wiKSByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlYWR5LnRoZW4odGhpcy5pbml0LmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBBZGRpbmcgZXZlbnRzIGFuZCBwcm9wZXJ0aWVzXG4gICAgICAgICAqL1xuICAgICAgICBpbml0KCkge1xuICAgICAgICAgICAgbGV0IHF1ZXN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5xdWVzdGlvbnNfX2l0ZW0nKTtcbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChxdWVzdGlvbnMsIChxdWVzdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50b2dnbGVRdWVzdGlvbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTaG93IGFuc3dlclxuICAgICAgICAgKiBAcGFyYW0gZXZlbnQgRXZlbnQge0V2ZW50fSB0byBnZXQgYnV0dG9uIHVzZXIgaGF2ZSBjbGlja2VkXG4gICAgICAgICAqL1xuICAgICAgICB0b2dnbGVRdWVzdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwicXVlc3Rpb25zX19pdGVtX29wZW5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXcgUXVlc3Rpb25zO1xufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==